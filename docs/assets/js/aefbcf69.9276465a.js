"use strict";(globalThis.webpackChunkdocusaurus_wiki=globalThis.webpackChunkdocusaurus_wiki||[]).push([[7137],{381(e,n,t){t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>u,frontMatter:()=>d,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"how_to_guides/gps_sync","title":"Synchronize Time using GPS","description":"Overview","source":"@site/docs/how_to_guides/gps_sync.md","sourceDirName":"how_to_guides","slug":"/how_to_guides/gps_sync","permalink":"/dev/docs/how_to_guides/gps_sync","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7},"sidebar":"howToSidebar","previous":{"title":"Synchronize Time using PTP","permalink":"/dev/docs/how_to_guides/ptp_sync_application"},"next":{"title":"Synchronize Azimuth Angle","permalink":"/dev/docs/how_to_guides/sync_angle"}}');var a=t(4848),s=t(8453),r=t(9030);const d={sidebar_position:7},l="Synchronize Time using GPS",o={},c=[{value:"Overview",id:"overview",level:2},{value:"Application Method",id:"application-method",level:2},{value:"Hardware Connection",id:"hardware-connection",level:3},{value:"Pandar128",id:"pandar128",level:4},{value:"JT16",id:"jt16",level:4},{value:"Lidar Parameter Configuration",id:"lidar-parameter-configuration",level:3},{value:"Pandar128",id:"pandar128-1",level:4},{value:"JT16",id:"jt16-1",level:4},{value:"GNSS Signal Electrical Requirements",id:"gnss-signal-electrical-requirements",level:3},{value:"Signal Level Requirements",id:"signal-level-requirements",level:4},{value:"Signal Time Sequence Requirements",id:"signal-time-sequence-requirements",level:4},{value:"GNSS Signal Status and Lidar Time Update Rules",id:"gnss-signal-status-and-lidar-time-update-rules",level:3},{value:"Pandar128",id:"pandar128-2",level:4},{value:"JT16",id:"jt16-2",level:4},{value:"GPS Time Synchronization Results",id:"gps-time-synchronization-results",level:2},{value:"Pandar128",id:"pandar128-3",level:3},{value:"JT16",id:"jt16-3",level:3},{value:"Common GPS Time Synchronization Issues Troubleshooting",id:"gps_troubleshooting",level:2},{value:"Unlock GNSS Signal Status in lidar",id:"unlock-gnss-signal-status-in-lidar",level:3}];function h(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"synchronize-time-using-gps",children:"Synchronize Time using GPS"})}),"\n",(0,a.jsx)(n.h2,{id:"overview",className:"numbered-heading","data-number":"1","data-text":"Overview","data-toc-number":"1",children:"1 Overview"}),"\n",(0,a.jsx)(n.p,{children:"Hesai lidar products support the use of the GNSS_NMEA protocol (GPRMC or GPGGA) to achieve precise time synchronization between the lidar and the system by relying on an external clock source to obtain absolute time."}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"GPS"}),": Global Positioning System, developed and operated by the U.S. government, is a satellite navigation system."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"GNSS"}),": Global Navigation Satellite System, refers to all satellite systems capable of providing global or regional positioning, navigation and timing services, including GPS, GLONASS, BeiDou, GALILEO, etc."]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.em,{children:"Note: In this document, the terms GPS and GNSS are used interchangeably and do not specifically refer to the U.S. GPS system."})}),"\n",(0,a.jsx)(n.h2,{id:"application-method",className:"numbered-heading","data-number":"2","data-text":"Application Method","data-toc-number":"2",children:"2 Application Method"}),"\n",(0,a.jsx)(n.p,{children:"To synchronize GNSS time on the lidar, it needs to be connected to a third-party GNSS module to obtain PPS signals and NMEA information. The specific methods and steps are as follows:"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.em,{children:"Note: This document uses Pandar128 and JT16 as examples. JT16 only supports GPS time synchronization."})}),"\n",(0,a.jsx)(n.h3,{id:"hardware-connection",className:"numbered-heading","data-number":"2.1","data-text":"Hardware Connection","data-toc-number":"2.1",children:"2.1 Hardware Connection"}),"\n",(0,a.jsx)(n.h4,{id:"pandar128",className:"numbered-heading","data-number":"2.1.1","data-text":"Pandar128","data-toc-number":"2.1.1",children:"2.1.1 Pandar128"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Pin definitions on the lidar side:"}),"\n"]}),"\n",(0,a.jsx)("img",{src:(0,r.Ay)("/img/gps_sync_1.jpg"),alt:"gps_sync_1",style:{display:"block",margin:"0 auto",width:"auto"}}),"\n",(0,a.jsx)("img",{src:(0,r.Ay)("/img/gps_sync_2_en.jpg"),alt:"gps_sync_2",style:{display:"block",margin:"0 auto",width:"auto"}}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Pin definitions on the connection box side (if used):"}),"\n"]}),"\n",(0,a.jsx)("img",{src:(0,r.Ay)("/img/gps_sync_3.jpg"),alt:"gps_sync_3",style:{display:"block",margin:"0 auto",width:"auto"}}),"\n",(0,a.jsx)("img",{src:(0,r.Ay)("/img/gps_sync_4_en.jpg"),alt:"gps_sync_4",style:{display:"block",margin:"0 auto",width:"auto"}}),"\n",(0,a.jsx)("img",{src:(0,r.Ay)("/img/gps_sync_5_en.jpg"),alt:"gps_sync_5",style:{display:"block",margin:"0 auto",width:"auto"}}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"If the connection box is connected to the GNSS module, refer to the hardware connection diagram below:"}),"\n"]}),"\n",(0,a.jsx)("img",{src:(0,r.Ay)("/img/gps_sync_6_en.jpg"),alt:"gps_sync_6",style:{display:"block",margin:"0 auto",width:"auto"}}),"\n",(0,a.jsx)(n.h4,{id:"jt16",className:"numbered-heading","data-number":"2.1.2","data-text":"JT16","data-toc-number":"2.1.2",children:"2.1.2 JT16"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Pin definitions on the lidar side:"}),"\n"]}),"\n",(0,a.jsx)("img",{src:(0,r.Ay)("/img/gps_sync_7.jpg"),alt:"gps_sync_7",style:{display:"block",margin:"0 auto",width:"auto"}}),"\n",(0,a.jsx)("img",{src:(0,r.Ay)("/img/gps_sync_8_en.jpg"),alt:"gps_sync_8",style:{display:"block",margin:"0 auto",width:"auto"}}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Pin definitions on the connection box side (if used):"}),"\n"]}),"\n",(0,a.jsx)("img",{src:(0,r.Ay)("/img/gps_sync_9.jpg"),alt:"gps_sync_9",style:{display:"block",margin:"0 auto",width:"auto"}}),"\n",(0,a.jsx)("img",{src:(0,r.Ay)("/img/gps_sync_10_en.jpg"),alt:"gps_sync_10",style:{display:"block",margin:"0 auto",width:"auto"}}),"\n",(0,a.jsx)("img",{src:(0,r.Ay)("/img/gps_sync_11_en.jpg"),alt:"gps_sync_11",style:{display:"block",margin:"0 auto",width:"auto"}}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"If the connection box is connected to the GNSS module, refer to the hardware connection diagram below:"}),"\n"]}),"\n",(0,a.jsx)("img",{src:(0,r.Ay)("/img/gps_sync_12_en.jpg"),alt:"gps_sync_12",style:{display:"block",margin:"0 auto",width:"auto"}}),"\n",(0,a.jsx)(n.h3,{id:"lidar-parameter-configuration",className:"numbered-heading","data-number":"2.2","data-text":"Lidar Parameter Configuration","data-toc-number":"2.2",children:"2.2 Lidar Parameter Configuration"}),"\n",(0,a.jsx)(n.h4,{id:"pandar128-1",className:"numbered-heading","data-number":"2.2.1","data-text":"Pandar128","data-toc-number":"2.2.1",children:"2.2.1 Pandar128"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"Log in to the web interface using the lidar's IP address."}),"\n",(0,a.jsxs)(n.li,{children:["Go to the [Settings] page, set [Clock Source] to ",(0,a.jsx)(n.code,{children:"GPS"}),", [GPS Mode] to ",(0,a.jsx)(n.code,{children:"GPRMC"})," or ",(0,a.jsx)(n.code,{children:"GPGGA"}),", and configure the [GPS Destination Port] (default value: ",(0,a.jsx)(n.code,{children:"10110"}),")."]}),"\n"]}),"\n",(0,a.jsx)("img",{src:(0,r.Ay)("/img/gps_sync_13.jpg"),alt:"gps_sync_13",style:{display:"block",margin:"0 auto",width:"auto"}}),"\n",(0,a.jsx)(n.h4,{id:"jt16-1",className:"numbered-heading","data-number":"2.2.2","data-text":"JT16","data-toc-number":"2.2.2",children:"2.2.2 JT16"}),"\n",(0,a.jsx)(n.p,{children:"JT16 does not require time synchronization parameter configuration. It only supports GPS time synchronization by default."}),"\n",(0,a.jsx)(n.h3,{id:"gnss-signal-electrical-requirements",className:"numbered-heading","data-number":"2.3","data-text":"GNSS Signal Electrical Requirements","data-toc-number":"2.3",children:"2.3 GNSS Signal Electrical Requirements"}),"\n",(0,a.jsx)(n.h4,{id:"signal-level-requirements",className:"numbered-heading","data-number":"2.3.1","data-text":"Signal Level Requirements","data-toc-number":"2.3.1",children:"2.3.1 Signal Level Requirements"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{}),(0,a.jsx)(n.th,{children:"GNSS_PPS"}),(0,a.jsx)(n.th,{children:"GNSS_NMEA"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Pandar128"}),(0,a.jsx)(n.td,{children:"TTL 3.3V/5V"}),(0,a.jsx)(n.td,{children:"-13~13V (RS232 level at connection box)"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"JT16"}),(0,a.jsx)(n.td,{children:"CMOS 3.3V"}),(0,a.jsx)(n.td,{children:"3.3V (RS232 level at adapter box)"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Notes:"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"1. When connecting or disconnecting GNSS signals from the GNSS pins on the Pandar128 cable or plugging/unplugging the GNSS module from the connection box, please ensure the lidar is powered off."})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"2. If operating the Pandar128 while powered on, discharge static electricity first and avoid directly touching the GNSS port or pins."})}),"\n",(0,a.jsx)(n.h4,{id:"signal-time-sequence-requirements",className:"numbered-heading","data-number":"2.3.2","data-text":"Signal Time Sequence Requirements","data-toc-number":"2.3.2",children:"2.3.2 Signal Time Sequence Requirements"}),"\n",(0,a.jsx)(n.p,{children:"The time sequence requirements for GNSS PPS and NMEA signals are the same for Pandar128 and JT16, as described below:"}),"\n",(0,a.jsx)("img",{src:(0,r.Ay)("/img/gps_sync_14_en.jpg"),alt:"gps_sync_14",style:{display:"block",margin:"0 auto",width:"auto"}}),"\n",(0,a.jsx)(n.h3,{id:"gnss-signal-status-and-lidar-time-update-rules",className:"numbered-heading","data-number":"2.4","data-text":"GNSS Signal Status and Lidar Time Update Rules","data-toc-number":"2.4",children:"2.4 GNSS Signal Status and Lidar Time Update Rules"}),"\n",(0,a.jsx)(n.h4,{id:"pandar128-2",className:"numbered-heading","data-number":"2.4.1","data-text":"Pandar128","data-toc-number":"2.4.1",children:"2.4.1 Pandar128"}),"\n",(0,a.jsx)(n.p,{children:"Each rising edge of the internal 1Hz PPS signal in Pandar128 triggers a GPS data packet containing received GNSS signal data, including UTC time, positioning signal status, etc. The PPS and NMEA signal statuses and corresponding lidar time update rules are described below:"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"PPS / NMEA Status"}),(0,a.jsx)(n.th,{children:"Date and Time"}),(0,a.jsx)(n.th,{children:"Description"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Unlock (Initial)"}),(0,a.jsx)(n.td,{children:"Virtual Value"}),(0,a.jsx)(n.td,{children:"Starts from a virtual UTC time (e.g., 2000-01-01 00:00:00), incremented by the internal 1Hz signal."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:"Locked"})}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:"Synchronized"})}),(0,a.jsx)(n.td,{children:"The rising edge of the internal 1Hz signal aligns with the PPS pulse, extracting the previous second's NMEA data."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Unlock (Lost)"}),(0,a.jsx)(n.td,{children:"Internal Timing"}),(0,a.jsx)(n.td,{children:"Time increments from the last synchronized moment, resulting in drift compared to real GNSS time."})]})]})]}),"\n",(0,a.jsx)(n.h4,{id:"jt16-2",className:"numbered-heading","data-number":"2.4.2","data-text":"JT16","data-toc-number":"2.4.2",children:"2.4.2 JT16"}),"\n",(0,a.jsx)(n.p,{children:"JT16 does not output GPS data packets. When the point cloud time matches the system time, it indicates that GPS time synchronization is successful; otherwise, it starts from a virtual UTC time and increments based on the lidar's internal 1Hz signal."}),"\n",(0,a.jsx)(n.h2,{id:"gps-time-synchronization-results",className:"numbered-heading","data-number":"3","data-text":"GPS Time Synchronization Results","data-toc-number":"3",children:"3 GPS Time Synchronization Results"}),"\n",(0,a.jsx)(n.h3,{id:"pandar128-3",className:"numbered-heading","data-number":"3.1","data-text":"Pandar128","data-toc-number":"3.1",children:"3.1 Pandar128"}),"\n",(0,a.jsx)(n.p,{children:"The timestamp information in the point cloud UDP data is located at the end of the data, occupying 10 bytes, including the date, time (the whole second part of UTC time), and the microsecond part of UTC time."}),"\n",(0,a.jsx)("img",{src:(0,r.Ay)("/img/gps_sync_15.jpg"),alt:"gps_sync_15",style:{display:"block",margin:"0 auto",width:"auto"}}),"\n",(0,a.jsx)(n.p,{children:"The parsed UTC time result is: 2025-12-23 20:17:39.423224."}),"\n",(0,a.jsx)(n.h3,{id:"jt16-3",className:"numbered-heading","data-number":"3.2","data-text":"JT16","data-toc-number":"3.2",children:"3.2 JT16"}),"\n",(0,a.jsx)(n.p,{children:"Using Hesai's official ROS driver, the point cloud timestamp can be printed directly in the terminal. When GPS synchronization is successful, the timestamp matches the system time."}),"\n",(0,a.jsx)(n.p,{children:"The timestamp information in the point cloud data is located in the data header, occupying 10 bytes, including the date, time (the whole second part of UTC time), and the microsecond part of UTC time."}),"\n",(0,a.jsx)("img",{src:(0,r.Ay)("/img/gps_sync_16.jpg"),alt:"gps_sync_16",style:{display:"block",margin:"0 auto",width:"auto"}}),"\n",(0,a.jsx)(n.p,{children:"The parsed UTC time result is: 2025-12-23 20:25:16.166864."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.em,{children:"Note: The integer part of the timestamp data in the figure (1766492716) corresponds to the Unix format time of the whole second part of UTC time, which is the total number of seconds accumulated since UTC time (Coordinated Universal Time) 00:00:00 on January 1, 1970."})}),"\n",(0,a.jsx)(n.h2,{id:"gps_troubleshooting",className:"numbered-heading","data-number":"4","data-text":"Common GPS Time Synchronization Issues Troubleshooting","data-toc-number":"4",children:"4 Common GPS Time Synchronization Issues Troubleshooting"}),"\n",(0,a.jsx)(n.h3,{id:"unlock-gnss-signal-status-in-lidar",className:"numbered-heading","data-number":"4.1","data-text":"Unlock GNSS Signal Status in lidar","data-toc-number":"4.1",children:"4.1 Unlock GNSS Signal Status in lidar"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["Ensure the GNSS device is properly connected (refer to the ",(0,a.jsx)(n.a,{href:"#hardware-connection",children:"Hardware Connection"})," section)."]}),"\n",(0,a.jsx)(n.li,{children:"Verify that the PPS signal is input to the lidar."}),"\n",(0,a.jsx)(n.li,{children:"For Pandar128, confirm that the [GPS Destination Port] is correctly configured via the web interface or TCP commands."}),"\n",(0,a.jsx)(n.li,{children:"Ensure the GNSS signal meets the electrical requirements of the lidar and connection box."}),"\n",(0,a.jsx)(n.li,{children:"Power cycle the lidar and check if the issue is resolved."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"If the lidar still cannot achieve GPS time synchronization after following the above steps, contact Hesai technical support."})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},8453(e,n,t){t.d(n,{R:()=>r,x:()=>d});var i=t(6540);const a={},s=i.createContext(a);function r(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);