"use strict";(globalThis.webpackChunkdocusaurus_wiki=globalThis.webpackChunkdocusaurus_wiki||[]).push([[4968],{8453(e,n,t){t.d(n,{R:()=>l,x:()=>a});var i=t(6540);const s={},r=i.createContext(s);function l(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),i.createElement(r.Provider,{value:n},e.children)}},8626(e,n,t){t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"how_to_guides/serial_port_config","title":"Configure Serial Port","description":"Overview","source":"@site/docs/how_to_guides/serial_port_config.md","sourceDirName":"how_to_guides","slug":"/how_to_guides/serial_port_config","permalink":"/dev/docs/how_to_guides/serial_port_config","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"howToSidebar","previous":{"title":"Configure Ethernet","permalink":"/dev/docs/how_to_guides/network_config"},"next":{"title":"Use HTTP API","permalink":"/dev/docs/how_to_guides/HTTP_api"}}');var s=t(4848),r=t(8453),l=t(9030);const a={sidebar_position:2},o="Configure Serial Port",d={},c=[{value:"Overview",id:"overview",level:2},{value:"Application Method",id:"application-method",level:2},{value:"Driver Installation",id:"driver-installation",level:3},{value:"Windows System",id:"windows-system",level:4},{value:"Ubuntu System",id:"ubuntu-system",level:4},{value:"Configuration Process",id:"configuration-process",level:3},{value:"Windows System",id:"windows-system-1",level:4},{value:"Ubuntu System",id:"ubuntu-system-1",level:4},{value:"Point Cloud Visualization via Serial Port",id:"point-cloud-visualization-via-serial-port",level:2}];function h(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"configure-serial-port",children:"Configure Serial Port"})}),"\n",(0,s.jsx)(n.h2,{id:"overview",className:"numbered-heading","data-number":"1","data-text":"Overview","data-toc-number":"1",children:"1 Overview"}),"\n",(0,s.jsx)(n.p,{children:"Hesai lidar products provide a standard serial port connection method, allowing developers to interact with the lidar via the serial port. This enables easy access to lidar point cloud data and configuration of lidar functions."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Note: Currently only JT16 supports serial port configuration."})}),"\n",(0,s.jsx)(n.h2,{id:"application-method",className:"numbered-heading","data-number":"2","data-text":"Application Method","data-toc-number":"2",children:"2 Application Method"}),"\n",(0,s.jsx)(n.p,{children:"Taking JT16 as an example, the specific configuration method for serial port connection is as follows:"}),"\n",(0,s.jsx)(n.h3,{id:"driver-installation",className:"numbered-heading","data-number":"2.1","data-text":"Driver Installation","data-toc-number":"2.1",children:"2.1 Driver Installation"}),"\n",(0,s.jsx)(n.p,{children:"The USB-to-RS485 cable provided with JT16 uses a third-party chip, and the corresponding driver file needs to be installed."}),"\n",(0,s.jsx)(n.p,{children:"The installation methods for Windows and Ubuntu systems are as follows:"}),"\n",(0,s.jsx)(n.h4,{id:"windows-system",className:"numbered-heading","data-number":"2.1.1","data-text":"Windows System","data-toc-number":"2.1.1",children:"2.1.1 Windows System"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Open Device Manager."}),"\n",(0,s.jsx)(n.li,{children:"Connect the lidar."}),"\n",(0,s.jsxs)(n.li,{children:["Install the driver (as shown below, the driver file can be downloaded ",(0,s.jsx)(n.a,{href:"https://hesai.box.com/s/drw0lvjwb179bxqut0d0i85oz2fkdeq9",children:"here"}),")."]}),"\n"]}),"\n",(0,s.jsx)("img",{src:(0,l.Ay)("/img/JT16_2.1.1.PNG"),alt:"Serial port",style:{display:"block",margin:"0 auto",width:"auto"}}),"\n",(0,s.jsx)(n.h4,{id:"ubuntu-system",className:"numbered-heading","data-number":"2.1.2","data-text":"Ubuntu System","data-toc-number":"2.1.2",children:"2.1.2 Ubuntu System"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Check if the system has a built-in driver:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"uname -r\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Note"}),": If the kernel version is 5.5 or above, the system already has a built-in driver. For kernel versions 2.6.15 to 5.4, proceed with the following steps:"]}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"Download the driver:"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["a. Download the ZIP driver file, which contains multiple driver versions (the driver file can be downloaded ",(0,s.jsx)(n.a,{href:"https://hesai.box.com/s/9jzrx2hx24dtgw401n18mhnnqkqm0nf7",children:"here"}),")."]}),"\n",(0,s.jsx)(n.p,{children:"b. Locate the subfolder corresponding to your Linux kernel version in the ZIP file."}),"\n",(0,s.jsx)(n.p,{children:"c. Copy the subfolder to a local directory."}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsx)(n.li,{children:"Install the driver:"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"a. Run the following command in the local directory to gain root privileges:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo su\n"})}),"\n",(0,s.jsx)(n.p,{children:"b. Compile and install the driver by running the following command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"make all\n"})}),"\n",(0,s.jsx)(n.p,{children:"c. Open the kernel module file in a text editor by running the following command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo gedit /etc/modules\n"})}),"\n",(0,s.jsx)(n.p,{children:'d. Add a new line at the end of the file, input "pl12303", save, and close the editor.'}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Restart the Ubuntu system."}),"\n",(0,s.jsx)(n.li,{children:"Reconnect the USB-to-RS485 cable."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"configuration-process",className:"numbered-heading","data-number":"2.2","data-text":"Configuration Process","data-toc-number":"2.2",children:"2.2 Configuration Process"}),"\n",(0,s.jsx)(n.h4,{id:"windows-system-1",className:"numbered-heading","data-number":"2.2.1","data-text":"Windows System","data-toc-number":"2.2.1",children:"2.2.1 Windows System"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Method 1"}),":"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"View all port numbers:"}),"\n",(0,s.jsx)(n.p,{children:"a. Open the Command Prompt window."}),"\n",(0,s.jsx)(n.p,{children:"b. Run the following command:"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"mode\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Plug and unplug the RS485 cable to determine its serial port number."}),"\n",(0,s.jsx)(n.p,{children:'Format: "COM" + number'}),"\n"]}),"\n"]}),"\n",(0,s.jsx)("img",{src:(0,l.Ay)("/img/JT16_2.2.png"),alt:"Serial port",style:{display:"block",margin:"0 auto",width:"auto"}}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Method 2"}),":"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Open Device Manager."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["In the device list, double-click [Ports (COM & LPT)] (refer to ",(0,s.jsx)(n.a,{href:"#windows-system",children:"Driver Installation - Windows System"}),")."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Record the RS485 port number (the port name of RS485 usually contains the model of the USB-to-RS485 chipset)."}),"\n",(0,s.jsx)(n.p,{children:'Format: "COM" + number'}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"ubuntu-system-1",className:"numbered-heading","data-number":"2.2.2","data-text":"Ubuntu System","data-toc-number":"2.2.2",children:"2.2.2 Ubuntu System"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"View all serial ports and their permissions:"}),"\n",(0,s.jsx)(n.p,{children:"a. Open the terminal."}),"\n",(0,s.jsx)(n.p,{children:"b. Run the following command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:" ls -l /dev/ttyUSB*\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:'Enabled serial ports: Start with "crw-rw-rw".'}),"\n",(0,s.jsx)("img",{src:(0,l.Ay)("/img/JT16_2.3-1.png"),alt:"Serial port",style:{display:"block",margin:"0 auto",width:"auto"}}),"\n",(0,s.jsx)(n.p,{children:'Disabled serial ports: Start with "crw-rw----".'}),"\n",(0,s.jsx)("img",{src:(0,l.Ay)("/img/JT16_2.3-2.png"),alt:"Serial port",style:{display:"block",margin:"0 auto",width:"auto"}}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Plug and unplug the RS485 cable to determine its serial port number."}),"\n",(0,s.jsx)(n.p,{children:'Format: "/dev/ttyUSB" + number'}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"If there are disabled serial ports, run the following command to enable all serial ports:"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo chmod 666 /dev/ttyUSB*\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"4",children:["\n",(0,s.jsx)(n.li,{children:"Repeat step 1 to confirm the status of all serial ports again."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"point-cloud-visualization-via-serial-port",className:"numbered-heading","data-number":"3","data-text":"Point Cloud Visualization via Serial Port","data-toc-number":"3",children:"3 Point Cloud Visualization via Serial Port"}),"\n",(0,s.jsx)(n.p,{children:"Launch PandarView2 and follow the steps below to view real-time point clouds sent by JT16 via serial port:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Click the [Listen for Data] button on the toolbar to open the configuration window."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Configure the following parameters:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"center"},children:"Source Type"}),(0,s.jsxs)(n.th,{style:{textAlign:"center"},children:["Select ",(0,s.jsx)(n.strong,{children:"Serial Port"})]})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"RS485 Serial Port"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Enter the port number of RS485"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Baud Rate"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Default: 3000000; if it fails, try 3125000"})]})]})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Click [OK] to start viewing real-time point clouds."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)("img",{src:(0,l.Ay)("/img/JT16_PV.jpg"),alt:"JT16_PV",style:{display:"block",margin:"0 auto",width:"auto"}}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.em,{children:["Note: Users can refer to ",(0,s.jsx)(n.a,{href:"/dev/docs/how_to_guides/PandarView",children:"Use PandarView - Download and Installation"})," for instructions on installing the PandarView2 software."]})})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);