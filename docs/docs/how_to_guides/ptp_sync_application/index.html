<!doctype html>
<html lang="en-US" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-how_to_guides/ptp_sync_application" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Synchronize Time using PTP | Developer Docs – Hesai Technology</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://hesaitechnology.github.io/dev/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://hesaitechnology.github.io/dev/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://hesaitechnology.github.io/dev/docs/how_to_guides/ptp_sync_application/"><meta data-rh="true" property="og:locale" content="en_US"><meta data-rh="true" property="og:locale:alternate" content="zh_CN"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Synchronize Time using PTP | Developer Docs – Hesai Technology"><meta data-rh="true" name="description" content="Overview"><meta data-rh="true" property="og:description" content="Overview"><link data-rh="true" rel="icon" href="/dev/img/website/favicon.svg"><link data-rh="true" rel="canonical" href="https://hesaitechnology.github.io/dev/docs/how_to_guides/ptp_sync_application/"><link data-rh="true" rel="alternate" href="https://hesaitechnology.github.io/dev/docs/how_to_guides/ptp_sync_application/" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://hesaitechnology.github.io/dev/zh/docs/how_to_guides/ptp_sync_application/" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://hesaitechnology.github.io/dev/docs/how_to_guides/ptp_sync_application/" hreflang="x-default"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&amp;family=Noto+Sans+Mono:wght@400;500;700&amp;display=swap"><link rel="stylesheet" href="/dev/assets/css/styles.d61cd09d.css">
<script src="/dev/assets/js/runtime~main.db7472cd.js" defer="defer"></script>
<script src="/dev/assets/js/main.8b98b507.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/dev/img/website/logo_black.svg"><link rel="preload" as="image" href="/dev/img/website/logo_white.svg"><link rel="preload" as="image" href="/dev/img/ptpconfig_web.png"><link rel="preload" as="image" href="/dev/img/ptpconfig_LU.png"><link rel="preload" as="image" href="/dev/img/ptpsetup_sw.jpg"><link rel="preload" as="image" href="/dev/img/ethtoolprint.jpg"><link rel="preload" as="image" href="/dev/img/ptp4lprint.jpg"><link rel="preload" as="image" href="/dev/img/trackingstatus.jpg"><link rel="preload" as="image" href="/dev/img/lockedstatus.jpg"><link rel="preload" as="image" href="/dev/img/ptpdprint.jpg"><link rel="preload" as="image" href="/dev/img/ptp4lprint_gptp.jpg"><link rel="preload" as="image" href="/dev/img/TSN_web.jpg"><link rel="preload" as="image" href="/dev/img/TSN.png"><link rel="preload" as="image" href="/dev/img/portc.png"><link rel="preload" as="image" href="/dev/img/portc-change.png"><link rel="preload" as="image" href="/dev/img/nontsn_web.jpg"><link rel="preload" as="image" href="/dev/img/nontsn.png"><link rel="preload" as="image" href="/dev/img/ptpsetup_hw.jpg"><link rel="preload" as="image" href="/dev/img/trimbleptp.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/dev/"><div class="navbar__logo"><img src="/dev/img/website/logo_black.svg" alt="Hesai LiDAR Developer Docs home" class="themedComponent_mlkZ themedComponent--light_NVdE" height="50" width="248"><img src="/dev/img/website/logo_white.svg" alt="Hesai LiDAR Developer Docs home" class="themedComponent_mlkZ themedComponent--dark_xIcU" height="50" width="248"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/dev/docs/category/how-to-guides/">How-to Guides</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/dev/docs/how_to_guides/ptp_sync_application/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en-US">English</a></li><li><a href="/dev/zh/docs/how_to_guides/ptp_sync_application/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-CN">中文</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/dev/docs/category/how-to-guides/">How-to Guides</a><button aria-label="Collapse sidebar category &#x27;How-to Guides&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dev/docs/how_to_guides/network_config/">Configure Ethernet</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dev/docs/how_to_guides/HTTP_api/">Use HTTP API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dev/docs/how_to_guides/TCP_api/">Use TCP API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/dev/docs/how_to_guides/ptp_sync_application/">Synchronize Time using PTP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dev/docs/how_to_guides/sync_angle/">Synchronize Azimuth Angle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dev/docs/how_to_guides/troubleshooting_guide/">Troubleshooting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dev/docs/how_to_guides/test/">测试</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/dev/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/dev/docs/category/how-to-guides/"><span itemprop="name">How-to Guides</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Synchronize Time using PTP</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Synchronize Time using PTP</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7 numbered-heading" data-number="1" data-text="Overview" data-toc-number="1" id="overview">1 Overview<a href="#overview" class="hash-link" aria-label="Direct link to 1 Overview" title="Direct link to 1 Overview">​</a></h2>
<p>Hesai lidar products support PTP (Precision Time Protocol), which allows users to achieve precise time synchronization among multiple sensors.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7 numbered-heading" data-number="2" data-text="Application Method" data-toc-number="2" id="application-method">2 Application Method<a href="#application-method" class="hash-link" aria-label="Direct link to 2 Application Method" title="Direct link to 2 Application Method">​</a></h2>
<p>The method of using PTP time synchronization feature is as follows:</p>
<ol>
<li>Configure PTP related settings of the lidar through web control page or LidarUtilities (see below figures, for the detailed information of each parameter setting please refer to the user manual of corresponding product):</li>
</ol>
<p><em>Web control page - Settings (Pandar series/QT series/XT series)</em></p>
<img src="/dev/img/ptpconfig_web.png" alt="ptpconfig_web" style="display:block;margin:0 auto;width:80%">
<p><em>LidarUtilities - Time Sync (OT128, AT128P, etc.)</em></p>
<img src="/dev/img/ptpconfig_LU.png" alt="ptpconfig_LU" style="display:block;margin:0 auto;width:80%">
<ol start="2">
<li>After connecting the lidar to the external clock source device, configure clock source to PTP master and start time synchronization between the lidar and the PTP master.</li>
</ol>
<p>Hesai lidar products support PTP time synchronization using software simulation or dedicated hardware clock device, with the detailed application method introduced as follows:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7 numbered-heading" data-number="2.1" data-text="PTP Time Synchronization through Software Simulation" data-toc-number="2.1" id="ptp-time-synchronization-through-software-simulation">2.1 PTP Time Synchronization through Software Simulation<a href="#ptp-time-synchronization-through-software-simulation" class="hash-link" aria-label="Direct link to 2.1 PTP Time Synchronization through Software Simulation" title="Direct link to 2.1 PTP Time Synchronization through Software Simulation">​</a></h3>
<p>Please refer to the below figure for the hardware connection method of PTP time synchronization through software simulation:</p>
<img src="/dev/img/ptpsetup_sw.jpg" alt="ptpsetup_sw" style="display:block;margin:0 auto;width:80%">
<p>For different types of PTP protocols, the PTP master can be configured in an Ubuntu OS PC according to the following methods:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7 numbered-heading" data-number="2.1.1" data-text="1588v2 Protocol" data-toc-number="2.1.1 1588" id="1588v2-protocol">2.1.1 1588v2 Protocol<a href="#1588v2-protocol" class="hash-link" aria-label="Direct link to 2.1.1 1588v2 Protocol" title="Direct link to 2.1.1 1588v2 Protocol">​</a></h4>
<p>For 1588v2 protocol, the commonly used open-source PTP time synchronization simulation software includes linuxptp and ptpd, with the corresponding configuration methods introduced as follows:</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7 numbered-heading" data-number="2.1.1.1" data-text="linuxptp (recommended)" data-toc-number="2.1.1.1" id="linuxptp-recommended">2.1.1.1 linuxptp (recommended)<a href="#linuxptp-recommended" class="hash-link" aria-label="Direct link to 2.1.1.1 linuxptp (recommended)" title="Direct link to 2.1.1.1 linuxptp (recommended)">​</a></h5>
<ol>
<li>Installation</li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt-get install linuxptp</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li>Use &#x27;ethtool&#x27; command to check the PTP synchronization functions supported by the network interface of host computer</li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt-get install ethtool</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo ethtool -T &lt;network interface name&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><em>Note: For the method of checking the network interface name of host computer, please refer to <a href="/dev/docs/how_to_guides/network_config/#how-to-check-the-network-interface-name-of-host-computer">How to Check Network Interface Name of Host Computer in Ubuntu OS</a>.</em></p>
<p>-The terminal will print the below information:</p>
<img src="/dev/img/ethtoolprint.jpg" alt="ethtoolprint" style="display:block;margin:0 auto;width:auto">
<p>The hardware or software displayed here indicates whether the network interface has hardware timestamp capability or only supports software timestamp.The synchronization accuracy of hardware timestamps can reach several microseconds or even lower, while the time synchronization error using software timestamps is generally larger than that with hardware timestamps.</p>
<ol>
<li><strong>Run the following command to configure the host computer network interface as PTP master and start time synchronization</strong></li>
</ol>
<ul>
<li>Network Transport -&gt; <strong>UDP/IP</strong></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo ptp4l –m -4 –i &lt;network interface name&gt; –S</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Network Transport -&gt; <strong>L2</strong></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo ptp4l –m -2 –i &lt;network interface name&gt; –S</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="4">
<li>Observe the printed message in terminal, when the network interface shows the <strong>Grand Master</strong> status, it means the host computer is successfully configured as PTP master:</li>
</ol>
<img src="/dev/img/ptp4lprint.jpg" alt="ptp4lprint" style="display:block;margin:0 auto;width:auto">
<p>When the PTP status displayed on the web control page or LidarUtilities interface of the lidar is updated to <em>Tracking</em> or <em>Locked</em>, it means the time synchronization between the lidar and the PTP master has been successfully established (as shown in the below figures):</p>
<p><em>Web control page - Home (Pandar series/QT series/XT series)</em></p>
<img src="/dev/img/trackingstatus.jpg" alt="trackingstatus" style="display:block;margin:0 auto;width:80%">
<p><em>LidarUtilities - Time Sync (OT128, AT128P, etc.)</em></p>
<img src="/dev/img/lockedstatus.jpg" alt="lockedstatus" style="display:block;margin:0 auto;width:80%">
<p>Note that when the PTP status of Hesai lidar products is displayed as&#x27;<strong>Tracking</strong>&#x27;, it only means that the timestamp offset (Master Offset) between the current lidar and PTP master does not meet the &#x27;Time Offset&#x27; parameter threshold corresponding to the&#x27;<strong>Locked</strong>&#x27;status (this threshold can be configured in the lidar&#x27;s control page, default value is ±1μs, maximum support to ±100μs), while actually the lidar is already in a normal PTP time synchronization state.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7 numbered-heading" data-number="2.1.1.2" data-text="ptpd" data-toc-number="2.1.1.2" id="ptpd">2.1.1.2 ptpd<a href="#ptpd" class="hash-link" aria-label="Direct link to 2.1.1.2 ptpd" title="Direct link to 2.1.1.2 ptpd">​</a></h5>
<ol>
<li>Installation</li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt-get install ptpd</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li><strong>Run the following command to configure the host computer network interface as PTP master and start time synchronization</strong></li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo ptpd -i &lt;network interface name&gt; -C -M</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="3">
<li>Observe the printed message in terminal, when the network interface shows the <strong>PTP_MASTER</strong> status, it means the host computer is successfully configured as PTP master:</li>
</ol>
<img src="/dev/img/ptpdprint.jpg" alt="ptpdprint" style="display:block;margin:0 auto;width:auto">
<p>When the PTP status displayed on the web control page or LidarUtilities interface of the lidar is updated to <em>Tracking</em> or <em>Locked</em>, it means the time synchronization between the lidar and the PTP master has been successfully established.</p>
<p><em>Note: For the case of synchronizing multiple lidars with 1588v2 protocol, usually only a regular switch is needed to be added to the network to achieve the forwarding of PTP messages between the PTP master and each lidars. This process won&#x27;t affect the configuration methods on the PTP master as mentioned above.</em></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7 numbered-heading" data-number="2.1.2" data-text="802.1AS Protocol" data-toc-number="2.1.2 802.1" id="8021as-protocol">2.1.2 802.1AS Protocol<a href="#8021as-protocol" class="hash-link" aria-label="Direct link to 2.1.2 802.1AS Protocol" title="Direct link to 2.1.2 802.1AS Protocol">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7 numbered-heading" data-number="2.1.2.1" data-text="PTP synchronization on a single lidar" data-toc-number="2.1.2.1" id="ptp-synchronization-on-a-single-lidar">2.1.2.1 PTP synchronization on a single lidar<a href="#ptp-synchronization-on-a-single-lidar" class="hash-link" aria-label="Direct link to 2.1.2.1 PTP synchronization on a single lidar" title="Direct link to 2.1.2.1 PTP synchronization on a single lidar">​</a></h5>
<p>For PTP time synchronization using 802.1AS protocol on a single lidar, it is recommended to use the <em>LinuxPTP</em> software tool for configuration. The operation method is as follows:</p>
<ol>
<li>Installation</li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt-get install linuxptp</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li>Use &#x27;ethtool&#x27; command to check the PTP synchronization functions supported by the network interface of host computer</li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt-get install ethtool</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo ethtool -T &lt;network interface name&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="3">
<li><strong>Run the following command to configure the host computer network interface as PTP master and start time synchronization</strong></li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo ptp4l -S -i &lt;network interface name&gt; -m -f gPTP.cfg</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <em>gPTP.cfg</em> file from this command contains the basic parameter configurations required for the current PTP master. Please refer to the following information for details:</p>
<ul>
<li>Standard 802.1AS Profile</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token keyword" style="color:#00009f">global</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gmCapable       </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">priority1       </span><span class="token number" style="color:#36acaa">248</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">priority2       </span><span class="token number" style="color:#36acaa">248</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">logAnnounceInterval </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">logSyncInterval     </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">syncReceiptTimeout  </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">neighborPropDelayThresh </span><span class="token number" style="color:#36acaa">800000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">min_neighbor_prop_delay </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">20000000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">assume_two_step     </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">path_trace_enabled  </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">follow_up_info      </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">transportSpecific   </span><span class="token number" style="color:#36acaa">0x1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ptp_dst_mac     </span><span class="token number" style="color:#36acaa">01</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">80</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">C2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">00</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">00</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">0E</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">network_transport   L2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">delay_mechanism     P2P</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">domainNumber        </span><span class="token number" style="color:#36acaa">0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><em>Note: Some Hesai lidar products (e.g. OT128, AT128P, etc.) support the option of 802.1AS (AUTOSAR) profile, while the PTP master configurations corresponding to this option is actually the same as the standard 802.1AS profile configuration as displayed above.</em></p>
<ul>
<li>802.1AS Automotive Profile</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token keyword" style="color:#00009f">global</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gmCapable       </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">priority1       </span><span class="token number" style="color:#36acaa">248</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">priority2       </span><span class="token number" style="color:#36acaa">248</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">logAnnounceInterval </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">logSyncInterval     </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">syncReceiptTimeout  </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">neighborPropDelayThresh </span><span class="token number" style="color:#36acaa">800000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">min_neighbor_prop_delay </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">20000000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">assume_two_step     </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">path_trace_enabled  </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">follow_up_info      </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">transportSpecific   </span><span class="token number" style="color:#36acaa">0x1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ptp_dst_mac     </span><span class="token number" style="color:#36acaa">01</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">80</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">C2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">00</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">00</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">0E</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">network_transport   L2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">delay_mechanism     P2P</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">domainNumber        </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Automotive Profile Specific Options</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BMCA            noop</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">masterOnly      </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">inhibit_announce    </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">asCapable               true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">inhibit_delay_req       </span><span class="token number" style="color:#36acaa">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="4">
<li>Observe the printed message in terminal, when the network interface shows the <strong>Grand Master</strong> status, it means the host computer is successfully configured as PTP master:</li>
</ol>
<img src="/dev/img/ptp4lprint_gptp.jpg" alt="ptp4lprint_gptp" style="display:block;margin:0 auto;width:auto">
<p>When the PTP status displayed on the web control page or LidarUtilities interface of the lidar is updated to <em>Tracking</em> or <em>Locked</em>, it means the time synchronization between the lidar and the PTP master has been successfully established.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7 numbered-heading" data-number="2.1.2.2" data-text="PTP synchronization on multiple lidars" data-toc-number="2.1.2.2" id="ptp-synchronization-on-multiple-lidars">2.1.2.2 PTP synchronization on multiple lidars<a href="#ptp-synchronization-on-multiple-lidars" class="hash-link" aria-label="Direct link to 2.1.2.2 PTP synchronization on multiple lidars" title="Direct link to 2.1.2.2 PTP synchronization on multiple lidars">​</a></h5>
<p>To perform time synchronization on multiple lidars from the same network using 802.1AS protocol, it is necessary to first confirm whether the switch model used supports <strong>TSN</strong> (i.e. Time Sensitive Network, an extension protocol stack of IEEE 802.1 which is aimed at providing a universal time sensitive mechanism for the data link layer of Ethernet protocol to ensure real-time and reliable data transmission).</p>
<ul>
<li>For the switch that supports TSN, set the &#x27;Switch Type&#x27; parameter of each lidar to &#x27;<strong>TSN</strong>&#x27; (as shown in the figures below), and configure the host computer as the PTP master according to method introduced above for a single lidar. When the PTP status displayed on the web control page or LidarUtilities interface of the lidar is updated to <em>Tracking</em> or <em>Locked</em>, it means the time synchronization between the lidar and the PTP master has been successfully established.</li>
</ul>
<p><em>Web control page - Home (Pandar series/QT series/XT series)</em></p>
<img src="/dev/img/TSN_web.jpg" alt="TSN_web" style="display:block;margin:0 auto;width:80%">
<p><em>LidarUtilities - Time Sync (OT128, AT128P, etc.)</em></p>
<img src="/dev/img/TSN.png" alt="TSN" style="display:block;margin:0 auto;width:80%">
<ul>
<li>For the ordinary type switch that does not support TSN, it is not possible to directly use standard Linuxptp software to achieve gPTP time synchronization for multiple lidars. Instead, users can refer to the following method to modify part of the source code in the original LinuxPTP program and make it compatible with the network using regular switches that can achieve gPTP time synchronization on multiple lidars:</li>
</ul>
<ol>
<li>Generate a new ptp4l.diff file according to the following code and copy it into the linuxptp folder:</li>
</ol>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">diff </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">git a</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">port</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">c b</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">port</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">index b7fbfb1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">3cd0ba4 </span><span class="token number" style="color:#36acaa">100644</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> a</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">port</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">+</span><span class="token operator" style="color:#393A34">+</span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> b</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">port</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@@ </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">2278</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">21</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token number" style="color:#36acaa">2278</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">10</span><span class="token plain"> @@ </span><span class="token builtin">int</span><span class="token plain"> process_pdelay_req</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">struct port </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">p</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> struct ptp_message </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">m</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        p</span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">delayMechanism </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> DM_P2P</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        port_set_delay_tmo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">p</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        pr_debug</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;%s: peer port id set to %s&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> p</span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">log_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        pid2str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">p</span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">peer_portid</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    rsp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> msg_allocate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">!rsp</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@@ </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">2475</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token number" style="color:#36acaa">2464</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> @@ </span><span class="token builtin">int</span><span class="token plain"> process_pdelay_resp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">struct port </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">p</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> struct ptp_message </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">m</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">!p</span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">peer_delay_req</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        pr_err</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;%s: rogue peer delay response&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> p</span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">log_name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">p</span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">peer_portid_valid</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">!pid_eq</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">p</span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">peer_portid</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">m</span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">header</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sourcePortIdentity</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li>Compile and run in the path of linuxptp folder:</li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">make clean</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">make</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="3">
<li>Run the following command to modify the port. c file in the linuxptp folder based on the newly generated ptp4l.diff file (see figure below):</li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">patch -p1 &lt; ptp4l.diff</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<img src="/dev/img/portc.png" alt="portc" style="display:block;margin:0 auto;width:80%">
<ol start="4">
<li>After modifying and saving, compile and run it using the &#x27;make&#x27; command. After compiling, check the port. c file and confirm the content has been correctly modified as highlighted in the following figure:</li>
</ol>
<img src="/dev/img/portc-change.png" alt="Hesai logo" style="display:block;margin:0 auto;width:80%">
<ol start="5">
<li>Run the following command in the linuxptp folder to configure the host computer network interface as PTP master and start time synchronization:</li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo ptp4l -S -i &lt;network interface name&gt; -m -f gPTP.cfg</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>When the network interface shows the <strong>Grand Master</strong> status, it means the host computer is successfully configured as PTP master.</p>
<ol start="6">
<li>Set the &#x27;Switch Type&#x27; parameter of each lidar to &#x27;<strong>Non-TSN</strong>&#x27; (as shown in the figures below). When the PTP status displayed on the web control page or LidarUtilities interface of the lidar is updated to <em>Tracking</em> or <em>Locked</em>, it means the time synchronization between the lidar and the PTP master has been successfully established.</li>
</ol>
<p><em>Web control page - Home (Pandar series/QT series/XT series)</em></p>
<img src="/dev/img/nontsn_web.jpg" alt="nontsn_web" style="display:block;margin:0 auto;width:80%">
<p><em>LidarUtilities - Time Sync (OT128, AT128P, etc.)</em></p>
<img src="/dev/img/nontsn.png" alt="nontsn" style="display:block;margin:0 auto;width:80%">
<h3 class="anchor anchorWithStickyNavbar_LWe7 numbered-heading" data-number="2.2" data-text="PTP Time Synchronization through Hardware Device" data-toc-number="2.2" id="ptp-time-synchronization-through-hardware-device">2.2 PTP Time Synchronization through Hardware Device<a href="#ptp-time-synchronization-through-hardware-device" class="hash-link" aria-label="Direct link to 2.2 PTP Time Synchronization through Hardware Device" title="Direct link to 2.2 PTP Time Synchronization through Hardware Device">​</a></h3>
<p>Please refer to the below figure for the hardware connection method of PTP time synchronization through a dedicated hardware clock device:</p>
<img src="/dev/img/ptpsetup_hw.jpg" alt="ptpsetup_hw" style="display:block;margin:0 auto;width:80%">
<p>This PTP time synchronization method can typically achieve higher time synchronization accuracy (&lt; 1μs).Similar to the software simulation method, users needs to configure the required PTP master parameters based on the selected PTP protocol and start the time synchronization process correctly according to the operation guidance of the hardware device (the following figure shows the parameter configuration interface of Trimble Thunderbolt GM200, a dedicated PTP master device).</p>
<img src="/dev/img/trimbleptp.png" alt="trimbleptp" style="display:block;margin:0 auto;width:80%">
<p>After the hardware device is successfully configured as PTP master and starts PTP time synchronization, it can be confirmed whether the lidar is under the normal synchronization state by monitoring the PTP status of the lidar (which should be <em>Tracking</em> or <em>Locked</em>) and the timestamp information contained in the received point cloud data.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7 numbered-heading" data-number="3" data-text="Common PTP Time Synchronization Issues troubleshooting" data-toc-number="3" id="ptp_troubleshooting">3 Common PTP Time Synchronization Issues troubleshooting<a href="#ptp_troubleshooting" class="hash-link" aria-label="Direct link to 3 Common PTP Time Synchronization Issues troubleshooting" title="Direct link to 3 Common PTP Time Synchronization Issues troubleshooting">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7 numbered-heading" data-number="3.1" data-text="Lidar cannot establish PTP time synchronization correctly" data-toc-number="3.1" id="lidar-cannot-establish-ptp-time-synchronization-correctly">3.1 Lidar cannot establish PTP time synchronization correctly<a href="#lidar-cannot-establish-ptp-time-synchronization-correctly" class="hash-link" aria-label="Direct link to 3.1 Lidar cannot establish PTP time synchronization correctly" title="Direct link to 3.1 Lidar cannot establish PTP time synchronization correctly">​</a></h3>
<ul>
<li>Check whether the hardware connection of the PTP time synchronization network is good;</li>
<li>Check whether the PTP synchronization message between the lidar and PTP master clock is correctly sent out (users can check the PTP protocol related messages in the data stream through use Wireshark software). If the message is sent out but not received, check whether the network bandwidth load could exceed the limit and cause packet loss;</li>
<li>Check whether the PTP parameter configuration of the lidar is consistent with the parameter configuration of the PTP master. See detailed configuration method <a href="#application-method">here</a>.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7 numbered-heading" data-number="3.2" data-text="Lidar&#x27;s PTP time synchronization status is not stable" data-toc-number="3.2" id="lidars-ptp-time-synchronization-status-is-not-stable">3.2 Lidar&#x27;s PTP time synchronization status is not stable<a href="#lidars-ptp-time-synchronization-status-is-not-stable" class="hash-link" aria-label="Direct link to 3.2 Lidar&#x27;s PTP time synchronization status is not stable" title="Direct link to 3.2 Lidar&#x27;s PTP time synchronization status is not stable">​</a></h3>
<ul>
<li>Check whether the hardware connection of the PTP time synchronization network is good;</li>
<li>Check whether the PTP master is working properly and whether there is any abnormal timestamp jump phenomenon occurred on the PTP master;</li>
<li>Check whether the lidar can receive PTP Sync messages sent by the PTP master correctly (users can check the PTP protocol related messages in the data stream through use Wireshark software);</li>
<li>For 1588v2 protocol, if there are multiple lidars or other devices connected to the current time synchronization network, and PTP time synchronization cannot be established or frequently switch to unlock status after synchronization, need to check whether the data volume transmitted in the network is close to the upper limit of Ethernet port bandwidth on the host computer. It is recommended to  configure the parameter &#x27;<em>PTP Network Transport</em>&#x27; on the lidar and PTP master to <strong>L2</strong> to avoid the impact of IP network layer data load on the transmission of PTP messages at the receiving and transmitting Ethernet ports;</li>
<li>For 802.1AS protocol, if the PTP time synchronization state of the lidar is unstable and switches between locked and unlock status, need to check whether the Sync message&#x27;s period parameter (<em>logSyncInterval</em>) from the PTP master is consistent with this parameter from the lidar (for Hesei lidar products, this parameter is fixed at -3).</li>
</ul>
<p>If other PTP time synchronization issues persist after following the above steps, please contact Hesai Technical Support.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/dev/docs/how_to_guides/TCP_api/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Use TCP API</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/dev/docs/how_to_guides/sync_angle/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Synchronize Azimuth Angle</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_jeP5 thin-scrollbar theme-doc-toc-desktop"><ul class="tocItems_BLyR"><li class="tocItem_nErt"><a href="#overview" class="tocLink_KIK3"><span class="tocText_E5Ci">1 Overview</span></a></li><li class="tocItem_nErt"><a href="#application-method" class="tocLink_KIK3"><span class="tocText_E5Ci">2 Application Method</span></a><ul class="tocSubList_rSyu"><li class="tocItem_nErt"><a href="#ptp-time-synchronization-through-software-simulation" class="tocLink_KIK3"><span class="tocText_E5Ci">2.1 PTP Time Synchronization through Software Simulation</span></a><ul class="tocSubList_rSyu"><li class="tocItem_nErt"><a href="#1588v2-protocol" class="tocLink_KIK3"><span class="tocText_E5Ci">2.1.1 1588v2 Protocol</span></a></li><li class="tocItem_nErt"><a href="#8021as-protocol" class="tocLink_KIK3"><span class="tocText_E5Ci">2.1.2 802.1AS Protocol</span></a></li></ul></li><li class="tocItem_nErt"><a href="#ptp-time-synchronization-through-hardware-device" class="tocLink_KIK3"><span class="tocText_E5Ci">2.2 PTP Time Synchronization through Hardware Device</span></a></li></ul></li><li class="tocItem_nErt"><a href="#ptp_troubleshooting" class="tocLink_KIK3"><span class="tocText_E5Ci">3 Common PTP Time Synchronization Issues troubleshooting</span></a><ul class="tocSubList_rSyu"><li class="tocItem_nErt"><a href="#lidar-cannot-establish-ptp-time-synchronization-correctly" class="tocLink_KIK3"><span class="tocText_E5Ci">3.1 Lidar cannot establish PTP time synchronization correctly</span></a></li><li class="tocItem_nErt"><a href="#lidars-ptp-time-synchronization-status-is-not-stable" class="tocLink_KIK3"><span class="tocText_E5Ci">3.2 Lidar&amp;#39;s PTP time synchronization status is not stable</span></a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/HesaiTechnology" target="_blank" rel="noopener noreferrer" class="footer__link-item">ROS &amp; SDK<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.hesaitech.com/downloads/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Downloads<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.hesaitech.com/contact/#tech-support" target="_blank" rel="noopener noreferrer" class="footer__link-item">Technical Support<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.hesaitech.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">HESAI Home<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/dev/terms/">Terms of Use</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Hesai Group. All Rights Reserved.</div></div></div></footer></div>
</body>
</html>